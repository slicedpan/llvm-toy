function outer() {
  var x = "value"
  function middle() {
    function inner() {
      puts(x)
    }

    puts("create inner closure")
    return inner
  }

  puts("return from outer")
  x = "foo"
  return middle
}

var mid = outer()
var in = mid()
in()
