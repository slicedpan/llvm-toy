function foo(n) {
  if (n == 1) {
    puts("1")
  } else {
    foo = function(n) {
      puts("bar")
    }
  }
}

puts(foo(1))
puts(foo(2))
puts(foo(2))